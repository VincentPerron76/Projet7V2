import requests

# URL de l'API
url = "http://127.0.0.1:5001/predict"

# Exemple de données de test
data = [
    {
        "CNT_CHILDREN": 4.961729233406375,
        "DAYS_BIRTH": 0.6494141368593394,
        "DAYS_ID_PUBLISH": -0.28208800158267566,
        "FLAG_WORK_PHONE": -0.49899677178931173,
        "CNT_FAM_MEMBERS": 4.2246985025429815,
        "REGION_RATING_CLIENT_W_CITY": -0.0626928526971028,
        "EXT_SOURCE_1": 0.016460129067917988,
        "EXT_SOURCE_2": -2.5103072494298053,
        "EXT_SOURCE_3": -1.4471805253488148,
        "YEARS_BEGINEXPLUATATION_MEDI": 0.014154247869191033,
        "OBS_30_CNT_SOCIAL_CIRCLE": -0.17585232135929785,
        "DEF_30_CNT_SOCIAL_CIRCLE": -0.32107538979547706,
        "FLAG_DOCUMENT_3": 0.6390508614193472,
        "PAYMENT_RATE":None,
        "BURO_DAYS_CREDIT_MEAN": -1.746064981800085,
        "ACTIVE_DAYS_CREDIT_MAX": -698.0,
        "PREV_APP_CREDIT_PERC_VAR": -0.02082433473905336,
        "PREV_RATE_DOWN_PAYMENT_MIN": -0.5668721219826327,
        "PREV_NAME_YIELD_GROUP_high_MEAN": 1.0907783598714118,
        "APPROVED_HOUR_APPR_PROCESS_START_MAX": 17.0,
        "POS_MONTHS_BALANCE_MAX": 0.6215807000708212,
        "POS_MONTHS_BALANCE_SIZE": 0.5032035038702302,
        "INSTAL_NUM_INSTALMENT_VERSION_NUNIQUE": -0.16220038715397642,
        "INSTAL_DPD_MAX": 0.0845668354102822,
        "INSTAL_AMT_PAYMENT_SUM": -0.232566621486729
    }
]

# Envoyer une requête POST à l'API
response = requests.post(url, json=data)

# Afficher la réponse de l'API
if response.status_code == 200:
    print("Réponse de l'API :")
    print(response.json())
else:
    print(f"Erreur : {response.status_code}")
    print(response.text)
